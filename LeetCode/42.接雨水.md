# 42.接雨水

给定 n 个非负整数表示每个宽度为 1 的柱子的高度图，计算按此排列的柱子，下雨之后能接多少雨水。

![img](data:image/jpeg;base64,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)

上面是由数组 [0,1,0,2,1,0,1,3,2,1,2,1] 表示的高度图，在这种情况下，可以接 6 个单位的雨水（蓝色部分表示雨水）。 感谢 Marcos 贡献此图。

示例:

输入: [0,1,0,2,1,0,1,3,2,1,2,1]

输出: 6



## 最佳方法：双指针

```C++
class Solution {
public:
    int trap(vector<int>& height) {
        if (height.empty()) return 0;
        int left=0,right=height.size()-1;
        int left_max=height[left];
        int right_max=height[right];
        int ans=0;
        while(left<right){
            left_max=max(left_max,height[left]);
            right_max=max(right_max,height[right]);
            if(left_max<right_max){
                ans+=left_max-height[left];
                ++left;
            }else{
                ans+=right_max-height[right];
                --right;
            }
        }
        return ans;
        
    }
};
```

时间复杂度：O(n)

空间复杂度：O(1)



